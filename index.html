<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <title>Library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://api-gratuite.github.io/default.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://api-gratuite.github.io/all.min.js"></script>
</head>
<body>
<script>
function home() {
    fetch('https://ai-pws.000webhostapp.com/app-vone/')
    .then(resp => resp.text())
    .then(resp => {
        document.body.innerHTML = resp
        document.querySelectorAll('div')[document.querySelectorAll('div').length-1].style.display = "none"

        if (document.querySelectorAll("img")[0] != undefined) {
            document.querySelectorAll("img")[0].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[0].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[1] != undefined) {
            document.querySelectorAll("img")[1].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[1].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[2] != undefined) {
            document.querySelectorAll("img")[2].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[2].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[3] != undefined) {
            document.querySelectorAll("img")[3].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[3].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[4] != undefined) {
            document.querySelectorAll("img")[4].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[4].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[5] != undefined) {
            document.querySelectorAll("img")[5].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[5].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[6] != undefined) {
            document.querySelectorAll("img")[6].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[6].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[7] != undefined) {
            document.querySelectorAll("img")[7].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[7].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[8] != undefined) {
            document.querySelectorAll("img")[8].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[8].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[9] != undefined) {
            document.querySelectorAll("img")[9].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[9].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[10] != undefined) {
            document.querySelectorAll("img")[10].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[10].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[11] != undefined) {
            document.querySelectorAll("img")[11].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[11].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[12] != undefined) {
            document.querySelectorAll("img")[12].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[12].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[13] != undefined) {
            document.querySelectorAll("img")[13].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[13].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[14] != undefined) {
            document.querySelectorAll("img")[14].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[14].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[15] != undefined) {
            document.querySelectorAll("img")[15].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[15].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[16] != undefined) {
            document.querySelectorAll("img")[16].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[16].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[17] != undefined) {
            document.querySelectorAll("img")[17].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[17].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[18] != undefined) {
            document.querySelectorAll("img")[18].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[18].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[19] != undefined) {
            document.querySelectorAll("img")[19].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[19].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[20] != undefined) {
            document.querySelectorAll("img")[20].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[20].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[21] != undefined) {
            document.querySelectorAll("img")[21].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[21].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[22] != undefined) {
            document.querySelectorAll("img")[22].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[22].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[23] != undefined) {
            document.querySelectorAll("img")[23].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[23].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[24] != undefined) {
            document.querySelectorAll("img")[24].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[24].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[25] != undefined) {
            document.querySelectorAll("img")[25].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[25].getAttribute("data-link") + "/1");
            });
        }

        if (document.querySelectorAll("img")[26] != undefined) {
            document.querySelectorAll("img")[26].addEventListener("click", function () {
                redirecionarHome(document.querySelectorAll("img")[26].getAttribute("data-link") + "/1");
            });
        }
    })

}

function redirecionarHome( url ) {
    fetch('https://ai-pws.000webhostapp.com/app-vone/home/' + url)
    .then(resp => resp.text())
    .then(resp => {

        document.body.innerHTML = resp
        document.querySelectorAll('div')[document.querySelectorAll('div').length-1].style.display = "none"
        document.querySelector('a').removeAttribute('href');
        document.querySelector('a').addEventListener('click', function(){
            home()
        });

        if (document.querySelectorAll("img")[0] != undefined) {
            document.querySelectorAll("img")[0].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[0].getAttribute("data-link"),document.querySelectorAll("img")[0].getAttribute("data-site"),document.querySelectorAll("img")[0].getAttribute("data-pagina"));
            });
        }

        if (document.querySelectorAll("img")[1] != undefined) {
            document.querySelectorAll("img")[1].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[1].getAttribute("data-link"),document.querySelectorAll("img")[1].getAttribute("data-site"),document.querySelectorAll("img")[1].getAttribute("data-pagina"));
            });
        }

        if (document.querySelectorAll("img")[2] != undefined) {
            document.querySelectorAll("img")[2].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[2].getAttribute("data-link"),document.querySelectorAll("img")[2].getAttribute("data-site"),document.querySelectorAll("img")[2].getAttribute("data-pagina"));
            });
        }

        if (document.querySelectorAll("img")[3] != undefined) {
            document.querySelectorAll("img")[3].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[3].getAttribute("data-link"),document.querySelectorAll("img")[3].getAttribute("data-site"),document.querySelectorAll("img")[3].getAttribute("data-pagina"));
            });
        }

        if (document.querySelectorAll("img")[4] != undefined) {
            document.querySelectorAll("img")[4].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[4].getAttribute("data-link"),document.querySelectorAll("img")[4].getAttribute("data-site"),document.querySelectorAll("img")[4].getAttribute("data-pagina"));
            });
        }

        if (document.querySelectorAll("img")[5] != undefined) {
            document.querySelectorAll("img")[5].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[5].getAttribute("data-link"),document.querySelectorAll("img")[5].getAttribute("data-site"),document.querySelectorAll("img")[5].getAttribute("data-pagina"));
            });
        }

        if (document.querySelectorAll("img")[6] != undefined) {
            document.querySelectorAll("img")[6].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[6].getAttribute("data-link"),document.querySelectorAll("img")[6].getAttribute("data-site"),document.querySelectorAll("img")[6].getAttribute("data-pagina"));
            });
        }

        if (document.querySelectorAll("img")[7] != undefined) {
            document.querySelectorAll("img")[7].addEventListener("click", function () {
                redirecionarVideo(document.querySelectorAll("img")[7].getAttribute("data-link"),document.querySelectorAll("img")[7].getAttribute("data-site"),document.querySelectorAll("img")[7].getAttribute("data-pagina"));
            });
        }
    })
}

function redirecionarVideo( url, site, pagina ) {
    fetch('https://ai-pws.000webhostapp.com/app-vone/player/'+site+'/'+pagina +'/'+ url)
    .then(resp => resp.text())
    .then(resp => {
        document.body.innerHTML = resp
        document.querySelectorAll('div')[document.querySelectorAll('div').length-1].style.display = "none"       
        document.querySelector('a').removeAttribute('href');
        if( document.querySelector('a').getAttribute('data-site') != null ) {
            document.querySelector('a').addEventListener('click', function(){
                redirecionarHome( document.querySelector('a').getAttribute('data-site') +'/'+document.querySelector('a').getAttribute('data-pagina') )
            });
        }
        document.querySelector('button').addEventListener('click', function() {
            //document.querySelector('video').play();
            if( document.querySelector('video').paused ) {
                document.querySelector('button').innerHTML = '<i class="fad fa-pause"></i>';
                document.querySelector('video').play();
            } else {
                document.querySelector('button').innerHTML = '<i class="fad fa-play"></i>';
                document.querySelector('video').pause();
            }
        });

        setInterval(function(){
            document.querySelector('input').max = parseInt(document.querySelector('video').duration)
            document.querySelectorAll('span')[1].innerHTML = fancyTimeFormat(parseInt(document.querySelector('video').duration));
        },1000);

        document.querySelector('input').addEventListener('change', function(){
            document.querySelector('video').currentTime = this.value
        });

        document.querySelector('video').addEventListener('timeupdate', function(){
            document.querySelector('input').value = parseInt(document.querySelector('video').currentTime);
            if( parseInt(document.querySelector('video').currentTime) == parseInt(document.querySelector('video').duration) ) {
                document.querySelector('button').innerHTML = '<i class="fad fa-play"></i>';
            }
            document.querySelectorAll('span')[0].innerHTML =fancyTimeFormat(parseInt(document.querySelector('video').currentTime));
        });

        function fancyTimeFormat(seconds) {   
        const format = val => `0${Math.floor(val)}`.slice(-2)
        const hours = seconds / 3600
        const minutes = (seconds % 3600) / 60

        return [hours, minutes, seconds % 60].map(format).join(':')
        }
    })
}

home()
</script>
</body>
</html>